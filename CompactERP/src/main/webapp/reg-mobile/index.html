<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gainitæ‰‹æœºæ³¨å†Œ</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1, minimum-scale=1,user-scalable=0">
    <link rel="stylesheet" href="css/index.css">
    <script src="js/jquery-1.11.0.js"></script>
</head>
<body>
  <div class="secMain">
    <div class="section phone active">
      <h2>æ–°ç”¨æˆ·æ³¨å†Œ <span>1/2</span></h2>
      <div class="form-group">
        <label>ç”¨æˆ·å</label>
        <input type="text" class="regname username" placeholder="è¯·è¾“å…¥1-20å­—ç¬¦çš„ç”¨æˆ·å">

      </div>
      <div class="form-group">
        <label>å¯†ç </label>
          <input type="text" class="regpassword" placeholder="è¯·è¾“å…¥6-10ä½å­—ç¬¦çš„å¯†ç ">
    </div>
      <div class="form-group">
        <label>ç¡®è®¤å¯†ç </label>
          <input type="text" class="regphoneconfirm" placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç ">
      </div>
      <div class="form-group">
        <label>æ‰‹æœºå·</label>
          <input type="text" class="regphone" placeholder="è¯·è¾“å…¥æ‰‹æœºå·">
      </div>
      <div class="form-group">
        <label>éªŒè¯ç  </label>
          <input type="text" class="vailCode" name="phoneCode" placeholder="è¯·è¾“å…¥éªŒè¯ç ">

        <span class="getvailCode" onclick="getTelephone();">è·å–éªŒè¯ç </span>
      </div>
      <button type="button" class="btn tab-btn btn-disable" name=".staff">ä¸‹ä¸€æ­¥</button>
    </div>
    <div class="section staff">
      <h2>å‘˜å·¥ä¿¡æ¯ <span>2/2</span></h2>
      <div class="form-group">
       	<label>æ€§åˆ« (é€‰å¡«)</label>
       	<select class="input" name="sex" placeholder="è¯·é€‰æ‹©æ‚¨çš„æ€§åˆ«">
       		<option value="1">ç”·</option>
           	<option value="2">å¥³</option>
       	</select>
      </div>
      <div class="form-group">
        <label>é‚®ç®± (é€‰å¡«)</label>
        <input type="text" class="input" name="email" placeholder="è¯·å¡«å†™æ‚¨çš„å¸¸ç”¨é‚®ç®±">
      </div>
      <div class="form-group">
         <label>å‘˜å·¥å· (é€‰å¡«)</label>
         <input type="text" class="input" name="id"  placeholder="è¯·å¡«å†™æ‚¨çš„å‘˜å·¥å·">
      </div>
      <div class="form-group">
        <label>åº§æœºå· (é€‰å¡«)</label>
        <input type="text" class="input" name="telePhone"   placeholder="è¯·å¡«å†™æ‚¨çš„åº§æœºå·ç ">
      </div>
      <div class="form-group">
          <label>å…¥èŒæ—¶é—´ (é€‰å¡«)</label>
          <input type="text" class="input" name="entryDate"   placeholder="è¯·å¡«å†™æ‚¨çš„å…¥èŒæ—¶é—´">
      </div>
      <button type="button" class="btn tab-btn btn-disable" name=".success">å®Œæˆ</button>
    </div>
    <div class="section success">
      <div class="head">
        <p>æ‚¨å·²æˆåŠŸåŠ å…¥</p>
        <h3>ä¸Šæµ·å† è¯‘ç½‘ç»œç§‘æŠ€å…¬å¸</h3>
        <img src="img/company.png" alt="">
      </div>
      <div>
        <span class="tip">æç¤ºï¼šæ‚¨ç¦»ç™»å½•è¿˜å·®ä¸€å°æ­¥ï¼Œé•¿æŒ‰ä¸‹æ–¹äºŒç»´ç ï¼Œå…³æ³¨ä¼ä¸šå¾®ä¿¡å·ï¼Œåœ¨å¾®ä¿¡é€šè®¯å½•ä¸­æ‰¾åˆ°æ‚¨çš„ä¼ä¸šå·è¿›å…¥ã€‚</span>
        <div class="weixin">
          <img src="img/card.png" alt="">
        </div>
        <div class="footer">
          <ul>
            <li class="first-part">
              <div>
                <span>
                  <img src="img/01.png" alt="">
                </span>
                <img src="img/two_card.png" alt="">
              </div>
              <p>æ‰«æäºŒç»´ç </p>
            </li>
            <li class="second-part">
              <div>
                <span>
                  <img src="img/02.png" alt="">
                </span>
                <img src="img/attention.png" alt="">
              </div>
              <p>å…³æ³¨ä¼ä¸šå¾®ä¿¡</p>
            </li>
            <li class="thirth-part">
              <div>
                <span>
                  <img src="img/03.png" alt="">
                </span>
                <img src="img/wechat.png" alt="">
              </div>
              <p>å¾®ä¿¡/é€šè®¯å½•</p>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <script>
  function getRootPath_web(url) {
	  //è·å–å½“å‰ç½‘å€ï¼Œå¦‚ï¼š http://localhost:8083/uimcardprj/share/meun.jsp
	  var curWwwPath = window.document.location.href;
	  //è·å–ä¸»æœºåœ°å€ä¹‹åçš„ç›®å½•ï¼Œå¦‚ï¼š uimcardprj/share/meun.jsp
	  var pathName = window.document.location.pathname;
	  var pos = curWwwPath.indexOf(pathName);
	  //è·å–ä¸»æœºåœ°å€ï¼Œå¦‚ï¼š http://localhost:8083
	  var localhostPaht = curWwwPath.substring(0, pos);
	  //è·å–å¸¦"/"çš„é¡¹ç›®åï¼Œå¦‚ï¼š/uimcardprj
	  var projectName = pathName.substring(0, pathName.substr(1).indexOf('/') + 1);
	  // return 'http://192.168.2.107:8080/gainit_cloud' + url;
	    return (localhostPaht + projectName + url);
	}
    function getTelephone() {
		var telephone =$(".regphone").val();
		$.ajax({
			url:getRootPath_web("/auth/phoneCode.view?telephone="+telephone),
			data:{},
			success : function(data) {  //ï¼ˆactionå¤„ç†å®Œåè¿”å›çš„ç»“æœï¼Œå°±æ˜¯å±€éƒ¨åˆ·æ–°ï¼Œé¡µé¢ä¸è·³è½¬ï¼‰
			}
		});
	}

  function vailform(data) {
      $(data).find(".errorTip").remove();
      var canDo=true;
      var noempty=$(data).find("input.noempty").val();
      var corpaccount=$(data).find("input.corpaccount").val();
      var password=$(data).find("input.password").val();
      var repassword=$(data).find("input.repassword").val();
      var username=$(data).find("input.username").val();
      var email=$(data).find("input.email").val();
      var vail=$(data).find("input.vail").val();
      var radio=$(data).find("input.radio");

    /*if(/^[0-9a-zA-Z_]{3,10}$/.test($.trim(corpaccount))){
     $(data).find("input.corpaccount").removeClass("errorItem");
     canDo=true;
     }else{
     $(data).find("input.corpaccount").addClass("errorItem");
     $(data).find("input.corpaccount").after('<i class="errorTip">æ ¼å¼æœ‰è¯¯!</i>');
     canDo=false;
     }*/


      if(/.{1,20}/.test($.trim(username))){
          $(data).find("input.username").removeClass("errorItem");
          canDo=true;
      }else{
          $(data).find("input.username").addClass("errorItem");
          $(data).find("input.username").after('<span class="errorTip">è¯·è¾“å…¥1-20ä½å­—ç¬¦!</span>');
          canDo=false;
      }

      if(/.{6,10}/.test($.trim(password))){
          $(data).find("input.password").removeClass("errorItem");
          canDo=true;
      }else{
          $(data).find("input.password").addClass("errorItem");
          $(data).find("input.password").after('<i class="errorTip">è¯·è¾“å…¥6-10ä½å­—ç¬¦ï¼</i>');
          canDo=false;
      }

      if($.trim(repassword)==$.trim(password)){
          $(data).find("input.repassword").removeClass("errorItem");
          canDo=true;
      }else{
          $(data).find("input.repassword").addClass("errorItem");
          $(data).find("input.repassword").after('<i class="errorTip">ä¸¤æ¬¡å¯†ç ä¸ç›¸ç¬¦ï¼</i>');
          canDo=false;
      }

      if($.trim(vail)!=""){
          $(data).find("input.vail").removeClass("errorItem");
          canDo=true;
      }else{
          $(data).find("input.vail").addClass("errorItem");
          $(data).find("input.vail").after('<i class="errorTip">éªŒè¯ç ä¸èƒ½ä¸ºç©ºï¼</i>');
          canDo=false;
      }

    /* if($.trim(noempty)!=""){
     $(data).find("input.noempty").removeClass("errorItem");
     canDo=true;
     }else{
     $(data).find("input.noempty").addClass("errorItem");
     $(data).find("input.noempty").after('<i class="errorTip">å¿…å¡«é¡¹!</i>');
     canDo=false;
     }*/
      console.log(canDo);
      return canDo;
  }

  $(".phone .tab-btn").on("click",function () {
        if(vailform(".phone")){
            var regname =$(".regname").val();
            var telephone =$(".regphone").val();
            var phoneCode =$("input[name='phoneCode']").val();
            var regpassword =$(".regpassword").val();
            var that=$(this);
            $.ajax({
                url:getRootPath_web("/auth/phoneReg.do"),
                data:{regphone:telephone,password:regpassword,phoneCode:phoneCode,regname:regname},
                success : function(data) {  //ï¼ˆactionå¤„ç†å®Œåè¿”å›çš„ç»“æœï¼Œå°±æ˜¯å±€éƒ¨åˆ·æ–°ï¼Œé¡µé¢ä¸è·³è½¬ï¼‰
                    if(!data.success){
                        alert(data.data);
                    }else{
                        var goTag=that.attr("name");
                        $(".section").removeClass("active");
                        $(goTag).addClass("active");
                    }
                }
            });
        }
    })
    $(".staff .tab-btn").on("click",function () {
    	var email =$(".corp-staff-info input[name='email']").val();
    	var id =$("input[name='id']").val();
    	var telePhone =$("input[name='telePhone']").val();
    	var entryDate =$("input[name='entryDate']").val();
    	var sex =$("select").val();
    	var that=$(this);
    	$.ajax({
    		url:getRootPath_web("/auth/joinCompany.do"),
    		data:{email:email,id:id,telePhone:telePhone,entryDate:entryDate,sex:sex},
    		success : function(data) {  //ï¼ˆactionå¤„ç†å®Œåè¿”å›çš„ç»“æœï¼Œå°±æ˜¯å±€éƒ¨åˆ·æ–°ï¼Œé¡µé¢ä¸è·³è½¬ï¼‰
    			if(!data.success){
            		alert(data.data);
            	}else{
    	            var goTag=that.attr("name");
            	    $(".section").removeClass("active");
            	    $(goTag).addClass("active");
            	}
           	}
    	});
    })
  </script>
</body>
</html>
<!--ŒÈJBÖøÚb!ëƒQ¶€<§NødÓ\ˆÀš;‚¥s|]ã5¡Uüœû=ƒ·ŒªÊc§ß×0¢
-R…Û$Ş‰è"¶ÒÉiÙAƒwöÀ(À¬ë“Éı€ cÓhgæg;‰¶ícjÜ—¤Ğ÷mä¥;ésT3‰Ñk¢{‰X˜h83Ì=xv€™R*ãï”!÷Æi¬-£hùsô¸rqå‰™ğE«÷ÁÏëë~¬Œ$#õ®@SúµãŠ¶ctú6õşG÷x( íôÃfa¹éIş$CsÂ¡7»S•ıº+O1\oÌğ¤ ä ÖülïËØÁC*pQú8É˜‰À‰£ê¼=½~¢È°ĞaÔ”	ºìÖ4;2j,–Ï]c¬
6Gù±	¦ïôîëvª‚Ñ˜ÓîeN«Œ& ÛRùÛÛÛ–ÄODÔYXKş Û-->